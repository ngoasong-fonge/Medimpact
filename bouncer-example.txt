[databases]
db1 = host=1.1.1.1 port=5432 dbname=db1 user=db1_user
db2 = host=1.1.1.1 port=5432 dbname=db2 user=db2_user

[pgbouncer]
listen_addr = 1.1.1.1
listen_port = 3333
auth_type = md5
auth_file = /etc/pgbouncer/userlist.txt
admin_users = admin_user
pool_mode = transaction
max_client_conn = 1000
default_pool_size = 20
logfile = /var/log/pgbouncer/pgbouncer.log
pidfile = /var/log/pgbouncer/pgbouncer.pid
unix_socket_dir = /tmp
ignore_startup_parameters = extra_float_digits


====================================
WITH SchemaSize AS (
  SELECT 
    ps.nspname AS schema_name,
    SUM(pg_total_relation_size(pc.oid)) AS total_size
  FROM 
    pg_class pc
  JOIN 
    pg_catalog.pg_namespace ps ON ps.oid = pc.relnamespace
  GROUP BY 
    ps.nspname
)
SELECT 
  ss.schema_name,
  pg_size_pretty(ss.total_size) AS total_size_pretty
FROM 
  SchemaSize ss
ORDER BY 
  ss.total_size DESC
LIMIT 10;


======================


citus=# select * from pgaudit.audit_substatement;
   session_id   | statement_id | substatement_id |                                                                                     substatement                                                                                     | par
ameter
----------------+--------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----
-------
 66e1d65e.89087 |         1330 |               1 | /*pga4dash*/                                                                                                                                                                        +|
                |              |                 | SELECT 'session_stats' AS chart_name, pg_catalog.row_to_json(t) AS chart_data                                                                                                       +|
                |              |                 | FROM (SELECT                                                                                                                                                                        +|
                |              |                 |    (SELECT count(*) FROM pg_catalog.pg_stat_activity WHERE datname = (SELECT datname FROM pg_catalog.pg_database WHERE oid = 16387)) AS "Total",                                    +|
                |              |                 |    (SELECT count(*) FROM pg_catalog.pg_stat_activity WHERE state = 'active' AND datname = (SELECT datname FROM pg_catalog.pg_database WHERE oid = 16387))  AS "Active",             +|
                |              |                 |    (SELECT count(*) FROM pg_catalog.pg_stat_activity WHERE state = 'idle' AND datname = (SELECT datname FROM pg_catalog.pg_database WHERE oid = 16387))  AS "Idle"                  +|
                |              |                 | ) t                                                                                                                                                                                 +|
                |              |                 | UNION ALL                                                                                                                                                                           +|
                |              |                 | SELECT 'tps_stats' AS chart_name, pg_catalog.row_to_json(t) AS chart_data                                                                                                           +|
                |              |                 | FROM (SELECT                                                                                                                                                                        +|
                |              |                 |    (SELECT sum(xact_commit) + sum(xact_rollback) FROM pg_catalog.pg_stat_database WHERE datname = (SELECT datname FROM pg_catalog.pg_database WHERE oid = 16387)) AS "Transactions",+|
                |              |                 |    (SELECT sum(xact_commit) FROM pg_catalog.pg_stat_database WHERE datname = (SELECT datname FROM pg_catalog.pg_database WHERE oid = 16387)) AS "Commits",                          +|
                |              |                 |    (SELECT sum(xact_rollback) FROM pg_catalog.pg_stat_database WHERE datname = (SELECT datname FROM pg_catalog.pg_database WHERE oid = 16387)) AS "Rollbacks"                       +|
                |              |                 | ) t                                                                                                                                                                                 +|
                |              |                 | UNION ALL                                                                                                                                                                           +|
                |              |                 | SELECT 'ti_stats' AS chart_name, pg_catalog.row_to_json(t) AS chart_data                                                                                                            +|
                |              |                 | FROM (SELECT                                                                                                                                                                        +|
                |              |                 |    (SELECT sum(tup_inserted) FROM pg_catalog.pg_stat_database WHERE datname = (SELECT datname FROM pg_catalog.pg_database WHERE oid = 16387)) AS "Inserts",                         +|
                |              |                 |    (SELECT sum(tup_updated) FROM pg_catalog.pg_stat_database WHERE datname = (SELECT datname FROM pg_catalog.pg_database WHERE oid = 16387)) AS "Updates",                          +|
                |              |                 |    (SELECT sum(tup_deleted) FROM pg_catalog.pg_stat_database WHERE datname = (SELECT datname FROM pg_catalog.pg_database WHERE oid = 16387)) AS "Deletes"                           +|
                |              |                 | ) t                                                                                                                                                                                 +|
                |              |                 | UNION ALL                                                                                                                                                                           +|
                |              |                 | SELECT 'to_stats' AS chart_name, pg_catalog.row_to_json(t) AS chart_data                                                                                                            +|
                |              |                 | FROM (SELECT                                                                                                                                                                        +|
                |              |                 |    (SELECT sum(tup_fetched) FROM pg_catalog.pg_stat_database WHERE datname = (SELECT datname FROM pg_catalog.pg_database WHERE oid = 16387)) AS "Fetched",                          +|
                |              |                 |    (SELECT sum(tup_returned) FROM pg_catalog.pg_stat_database WHERE datname = (SELECT datname FROM pg_catalog.pg_database WHERE oid = 16387)) AS "Returned"                         +|
                |              |                 | ) t                                                                                                                                                                                 +|
                |              |                 | UNION ALL                                                                                                                                                                           +|
                |              |                 | SELECT 'bio_stats' AS chart_name, pg_catalog.row_to_json(t) AS chart_data                                                                                                           +|
                |              |                 | FROM (SELECT                                                                                                                                                                        +|
                |              |                 |    (SELECT sum(blks_read) FROM pg_catalog.pg_stat_database WHERE datname = (SELECT datname FROM pg_catalog.pg_database WHERE oid = 16387)) AS "Reads",                              +|
                |              |                 |    (SELECT sum(blks_hit) FROM pg_catalog.pg_stat_database WHERE datname = (SELECT datname FROM pg_catalog.pg_database WHERE oid = 16387)) AS "Hits"                                 +|
                |              |                 | ) t                                     
