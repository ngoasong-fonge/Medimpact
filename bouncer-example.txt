[databases]
db1 = host=1.1.1.1 port=5432 dbname=db1 user=db1_user
db2 = host=1.1.1.1 port=5432 dbname=db2 user=db2_user

[pgbouncer]
listen_addr = 1.1.1.1
listen_port = 3333
auth_type = md5
auth_file = /etc/pgbouncer/userlist.txt
admin_users = admin_user
pool_mode = transaction
max_client_conn = 1000
default_pool_size = 20
logfile = /var/log/pgbouncer/pgbouncer.log
pidfile = /var/log/pgbouncer/pgbouncer.pid
unix_socket_dir = /tmp
ignore_startup_parameters = extra_float_digits


ERROR:  value too long for type character varying(500)
CONTEXT:  COPY salesforce_a_g_detail, line 377, column corrective_and_preventative_action__c: "Determine whether we can include tracking on all plan materials moving fwd so we can confirm that ma..."

ALTER TABLE salesforce_a_g_detail ALTER COLUMN corrective_and_preventative_action__c TYPE character varying(1000);

Modify the Table Schema:
Alter the column to increase its length to accommodate the longer values.
Preprocess the CSV File:
Truncate the data in the CSV file to fit within the existing column length constraints.

https://get.enterprisedb.com/docs/EDB_Failover_Manager_Guide_v3.5.pdf



[svcpostgres@pv2medpg1c2 mrg]$ nohup psql -h localhost -U deployadmin -d citus -c "\copy mrg.salesforce_case from '/opt/backup/mrg/salesforce_case71624.csv' DELIMITER ',' CSV HEADER;" > case_output.log 2>&1
[svcpostgres@pv2medpg1c2 mrg]$ cat case_output.log
nohup: ignoring input
ERROR:  unquoted carriage return found in data
HINT:  Use quoted CSV field to represent carriage return.
CONTEXT:  COPY salesforce_case, line 1355

[svcpostgres@pv2medpg1c2 mrg]$ nohup psql -h localhost -U deployadmin -d citus -c "\copy mrg.salesforce_a_g_detail from '/opt/backup/mrg/salesforce_a_g_detail71624.csv' DELIMITER ',' CSV HEADER;" > detail_output.log 2>&1
[svcpostgres@pv2medpg1c2 mrg]$ cat detail_output.log
nohup: ignoring input
ERROR:  extra data after last expected column
CONTEXT:  COPY salesforce_a_g_detail, line 28: "1.00,FALSE,FALSE,,,Grievance,Part D Grievance,,the benefit(s) under dispute was/were provided to the..."

The error message "extra data after last expected column" indicates that there is more data in the CSV file than expected by the COPY command, based on the table definition. This can happen if the CSV file has more fields in a row than the table has columns.


