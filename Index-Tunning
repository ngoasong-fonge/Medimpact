SELECT
  schemaname,
  relname,
  seq_scan - idx_scan AS too_much_seq,
  CASE
    WHEN
      seq_scan - coalesce(idx_scan, 0) > 0
    THEN
      'Missing Index?'
    ELSE
      'OK'
  END,
  pg_relation_size(relname::regclass) AS rel_size, seq_scan, idx_scan
FROM
  pg_stat_all_tables
WHERE
  pg_relation_size(relname::regclass) > 80000
ORDER BY
  too_much_seq DESC, schemaname, relname;

citus=# drop role "deployadmin";
ERROR:  role "deployadmin" does not exist
CONTEXT:  while executing command on 10.13.3.51:5432
-----------------------------------------------------------------------------------------------------------------------------------------

rsync -avz --progress --partial . nfonge@pv1medpg0c1:/opt/app/postgres-data/data/pg_wal/

Detailed Breakdown:
.: This dot represents the current directory, meaning rsync will sync everything in the directory from which the command is executed.
-a (archive): Ensures that the transfer preserves the file structure and attributes (like permissions and timestamps).
-v (verbose): Provides detailed output, useful for monitoring what files are being transferred.
-z (compress): Compresses file data during the transfer, which can speed up the transfer process especially over slower network connections.
--progress: Shows detailed progress for each file being transferred.
--partial: Keeps partially transferred files which can be useful if the transfer is interrupted, allowing subsequent runs to continue from where they left off.


rsync -avz --progress --partial nfonge@pv2medpg1c2:/opt/backup/pgprod1/group0/wal_archive/ nfonge@pv1medpg0c1:/opt/app/postgres-data/data/pg_wal/

rsync intelligently synchronizes files between two locations, only copying what is needed. This makes it particularly useful for repetitive file transfer tasks

